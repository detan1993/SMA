<!--
  Generated template for the CartPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Your Cart</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
<!--TODO: Show cart only if there are items, but it doesnt work-->
<div *ngIf="customerCart">
		<h2>My Cart!</h2>
		<ion-list *ngFor="let cartItem of customerCart;let i = index">
			<ion-row>
				<ion-label float-left>{{cartItem.productName}}</ion-label>
				<button float-right ion-button icon-only (click)="removeFromCart(i,cartItem)">
					<ion-icon name="close"></ion-icon>
				</button>
			</ion-row>
			<ion-row>
				<div float-left>
					<button ion-button icon-only (click)="minusButtonClick(i,cartItem)"><ion-icon name="remove" ></ion-icon></button>
					{{cartItem.selectedQuantity}}
					<button ion-button icon-only (click)="plusButtonClick(i,cartItem)"><ion-icon name="add" ></ion-icon></button>
				</div>
				<ion-label float-right>${{cartItem.price}}</ion-label>
			</ion-row>
		</ion-list>
		<ion-row>
			<ion-label float-left>Subtotal:</ion-label>
			<ion-label float-right>${{subtotal}}</ion-label>
		</ion-row>
		<ion-row>
			<ion-label float-left>Discount from Voucher </ion-label>
			<ion-label float-right>${{discountFromVoucher}}</ion-label>
		</ion-row>
		<ion-row>
			<ion-label float-left>Total</ion-label>
			<ion-label float-right>${{total}}</ion-label>
		</ion-row>
		<ion-row>
			<ion-label>Use My Voucher</ion-label>
			<ion-input [(ngModel)]="voucherCode"></ion-input>
			<button ion-button (click)="applyVoucher()">Apply</button>
		</ion-row>
		<ion-row>
			<button ion-button (click)="makeOrder()">MAKE ORDER</button>
		</ion-row>
</div>

<div *ngIf="!customerCart">
	<h2>You have no items!</h2>
</div>
</ion-content>
